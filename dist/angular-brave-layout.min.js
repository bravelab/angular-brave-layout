!function(){"use strict";angular.module("ngBraveLayout",[]).value("version","0.0.6")}(),function(){"use strict";angular.module("ngBraveLayout").constant("layoutConfig",{templates:{directives:{}}})}(),function(){"use strict";angular.module("ngBraveLayout").factory("lazyScript",function(t){function e(t){return r.hasOwnProperty(t)&&r[t].promise&&r[t].promise.$$state.pending}function n(t){return r.hasOwnProperty(t)}function a(e){if(!r[e]){r[e]=t.defer();var n=document.createElement("script");n.onload=function(t){console.log("script is lazy loaded:",e),r[e].resolve(e)},n.src=e;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}return r[e].promise}function i(i){if(e(i))return r[i].promise;if(n(i))return t.resolve(i);var o=t.defer();return a(i).then(function(){o.resolve(i)}),o.promise}var r={};return{register:function(e){var n=t.defer(),a=[];return angular.isString(e)&&(e=[e]),angular.forEach(e,function(t){a.push(i(t))}),t.all(a).then(function(t){n.resolve(t)}),n.promise}}})}(),function(){"use strict";angular.module("ngBraveLayout").factory("SmartCss",function(t,e){var n=function(){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet}(),a={},i={writeRule:function(t){if(i.deleteRuleFor(t),_.has(a,t)){var e=t+"{ "+_.map(a[t],function(t,e){return e+":"+t+";"}).join(" ")+"}";n.insertRule(e,_.size(a)-1)}},add:function(t,n,r,o){_.has(a,t)||(a[t]={}),"undefined"==typeof r||null===r||""===r?delete a[t][n]:a[t][n]=r,0===_.keys(a[t]).length&&delete a[t],o||(o=0),e(function(){i.writeRule(t)},o)},remove:function(t,e,n){i.add(t,e,null,n)},deleteRuleFor:function(t){_(n.rules).forEach(function(e,a){e.selectorText===t&&n.deleteRule(a)})},appViewSize:null};return t.$on("$smartContentResize",function(t,e){i.appViewSize=e}),i})}(),function(){"use strict";angular.module("ngBraveLayout").directive("bigBreadcrumbs",function(){return{restrict:"EA",replace:!0,template:'<div><h1 class="page-title txt-color-blueDark"></h1></div>',scope:{items:"=",icon:"@"},link:function(t,e){var n=_.first(t.items),a=t.icon||"home";e.find("h1").append('<i class="fa-fw fa fa-'+a+'"></i>'+n),_.rest(t.items).forEach(function(t){e.find("h1").append("<span translate>"+t+"</span>")})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("braveStateBreadcrumbs",function(t,e,n){var a='<a translate ui-sref="app.home">Home</a>';return{restrict:"EA",replace:!0,template:'<ol class="breadcrumb">'+a+"</ol>",link:function(i,r){function o(t){var e="<li>"+a+"</li>";angular.forEach(t,function(t,n){e+='<li><a translate ui-sref="'+t[0]+'">'+t[1]+"</a></li>"});var o=angular.element(e),u=n(o),c=u(i);r.html(c)}function u(t,n){var a=e.get(t);a&&a.data&&a.data.title&&-1===n.indexOf(a.data.title)&&n.unshift([t,a.data.title]);var i=t.replace(/.?\w+$/,"");return i?u(i,n):n}function c(t){var e;e=t.data&&t.data.breadcrumbs?t.data.breadcrumbs:u(t.name,[]),o(e)}c(e.current),t.$on("$stateChangeStart",function(t,e){c(e)})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("braveStateModuleTitle",function(t,e,n,a){return{restrict:"EA",replace:!0,template:'<div><h1 class="page-title txt-color-blueDark"></h1></div>',link:function(a,i){function r(t){var e="";angular.forEach(t,function(t,n){e+='<a ui-sref="'+t[0]+'" style="margin-right: 5px;" translate>'+t[1]+"</a>"});var r=angular.element(e),o=n(r),u=o(a);i.find("h1").html(u)}function o(t,n){var a=e.get(t);a&&a.data&&a.data.title&&-1===n.indexOf(a.data.title)&&n.unshift([t,a.data.title]);var i=t.replace(/.?\w+$/,"");return i?o(i,n):n}function u(t){var e;e=t.data&&t.data.breadcrumbs?t.data.breadcrumbs:o(t.name,[]),r(e)}u(e.current),t.$on("$stateChangeStart",function(t,e){u(e)})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("braveStateTitle",function(t,e,n,a){return{restrict:"A",compile:function(a,i){function r(t){n(function(){$("html head title").text(t)})}function o(t,n){var a=e.get(t);a&&a.data&&a.data.title&&-1===n.indexOf(a.data.title)&&n.push(a.data.title);var i=t.replace(/.?\w+$/,"");return i?o(i,n):n}function u(t){var e=o(t.name,[]);e.push(i.braveStateTitle),r(e.join(" | "))}a.removeAttr("data-brave-state-title"),u(e.current),t.$on("$stateChangeStart",function(t,e){u(e)})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("dismisser",function(){return{restrict:"A",compile:function(t){t.removeAttr("dismisser data-dissmiser");var e='<button class="close">&times;</button>';t.prepend(e),t.on("click",">button.close",function(){t.fadeOut("fast",function(){$(this).remove()})})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("fullScreen",function(){return{restrict:"A",link:function(t,e){var n=$("body"),a=function(t){n.hasClass("full-screen")?(n.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(n.addClass("full-screen"),document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen())};e.on("click",a)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("hrefVoid",function(){return{restrict:"A",link:function(t,e,n){e.attr("href","#"),e.on("click",function(t){t.preventDefault(),t.stopPropagation()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("jarvisWidget",function(t){return{restrict:"A",compile:function(e,n){e.data("widget-color")&&e.addClass("jarviswidget-color-"+e.data("widget-color")),e.find(".widget-body").prepend('<div class="jarviswidget-editbox"><input class="form-control" type="text"></div>'),e.addClass("jarviswidget"),t.$emit("jarvisWidgetAdded",e)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("minifyMenu",function(){return{restrict:"A",link:function(t,e){var n=$("body"),a=function(){n.hasClass("menu-on-top")||(n.toggleClass("minified"),n.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"))};e.on("click",a)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("radioToggle",function(t){return{scope:{model:"=ngModel",value:"@value"},link:function(t,e,n){e.parent().on("click",function(){t.model=t.value,t.$apply()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("reloadState",function(t){return{restrict:"A",compile:function(e,n){e.removeAttr("reload-state data-reload-state"),e.on("click",function(e){t.$state.transitionTo(t.$state.current,t.$stateParams,{reload:!0,inherit:!1,notify:!0}),e.preventDefault()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("resetWidgets",function(){return{restrict:"A",link:function(t,e){e.on("click",function(){$.smartMessageBox({title:'<i class="fa fa-refresh" style="color:green"></i> Clear Local Storage',content:"Would you like to RESET all your saved widgets and clear LocalStorage?1",buttons:"[No][Yes]"},function(t){"Yes"===t&&localStorage&&(localStorage.clear(),location.reload())})})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("searchMobile",function(){return{restrict:"A",compile:function(t,e){t.removeAttr("search-mobile data-search-mobile"),t.on("click",function(t){$("body").addClass("search-mobile"),t.preventDefault()}),$("#cancel-search-js").on("click",function(t){$("body").removeClass("search-mobile"),t.preventDefault()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("toggleShortcut",function(t,e){var n=function(t){function e(){a.animate({height:"hide"},300,"easeOutCirc"),$("body").removeClass("shortcut-on")}function n(){a.animate({height:"show"},200,"easeOutCirc"),$("body").addClass("shortcut-on")}var a=$("#shortcut");t.on("click",function(){a.is(":visible")?e():n()}),a.find("a").click(function(t){t.preventDefault(),window.location=$(this).attr("href"),setTimeout(e,300)}),$(document).mouseup(function(t){a&&!a.is(t.target)&&0===a.has(t.target).length&&e()})},a=function(t,a){e(function(){n(a)})};return{restrict:"EA",link:a}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartDeviceDetect",function(){return{restrict:"A",compile:function(t,e){t.removeAttr("smart-device-detect data-smart-device-detect");var n=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());t.toggleClass("desktop-detected",!n),t.toggleClass("mobile-detected",n)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartFastClick",function(){return{restrict:"A",compile:function(t,e){t.removeAttr("smart-fast-click data-smart-fast-click"),FastClick.attach(t),FastClick.notNeeded()||t.addClass("needsclick")}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartInclude",function(){return{replace:!0,restrict:"A",templateUrl:function(t,e){return e.smartInclude},compile:function(t){t[0].className=t[0].className.replace(/placeholder[^\s]+/g,"")}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartLayout",function(t,e,n,a,i,r){var o=!1,u=a.defer();u.promise.then(function(){o=!0});var c,s,l,d,f=$(window),m=($(document),$("html")),g=$("body");return function v(){c=$("#header"),s=$("#left-panel"),l=$("#ribbon"),d=$(".page-footer"),_.every([c,s,l,d],function(t){return angular.isNumber(t.height())})?u.resolve():e(v,100)}(),function(){r.smartSkin&&(g.removeClass(_.pluck(r.skins,"name").join(" ")),g.addClass(r.smartSkin))}(),{priority:2014,restrict:"A",compile:function(a,i){function r(){var e=g.hasClass("menu-on-top")&&s.is(":visible")?s.height():0,n=!g.hasClass("menu-on-top")&&s.is(":visible")?s.width()+s.offset().left:0,a=$("#content"),i=a.outerWidth(!0)-a.width(),r=a.outerHeight(!0)-a.height();C=f.width()-n-i,w=f.height()-e-r-c.height()-l.height()-d.height(),k=A-C,B=L-w,(Math.abs(k)||Math.abs(B)||S)&&(t.$broadcast("$smartContentResize",{width:C,height:w,deltaX:k,deltaY:B}),A=C,L=w,S=!1)}function v(t){u.promise.then(function(){h(t)})}function p(){E=!1}function h(t){e(function(){E=!0},t)}function b(){g.toggleClass("mobile-view-activated",f.width()<979),f.width()<979&&g.removeClass("minified"),r()}function y(t){t.data&&t.data.htmlId?m.attr("id",t.data.htmlId):m.removeAttr("id")}a.removeAttr("smart-layout data-smart-layout");var C,w,k,B,L=0,A=0,S=!1,E=!1;n(function(){E&&b()},300);var x=_.debounce(function(){v(300)},300);v(10),t.$on("$stateChangeStart",function(t,e,n,a,i){y(e),p()});var F=1;t.$on("$viewContentLoading",function(t,e){F++}),t.$on("$stateChangeSuccess",function(t,e,n,a,i){S=!0}),t.$on("$viewContentLoaded",function(t){F--,0===F&&o&&x()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartPageTitle",function(t,e){return{restrict:"A",compile:function(n,a){n.removeAttr("smart-page-title data-smart-page-title");var i=a.smartPageTitle,r=function(t,n,a,r,o){var u=i;n.data&&n.data.title&&(u=n.data.title+" | "+u),e(function(){$("html head title").text(u)})};t.$on("$stateChangeStart",r)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartPopoverHtml",function(){return{restrict:"A",link:function(t,e,n){var a={};a.content=n.smartPopoverHtml,a.placement=n.popoverPlacement||"top",a.html=!0,a.trigger=n.popoverTrigger||"click",a.title=n.popoverTitle||n.title,e.popover(a)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartRouterAnimationWrap",function(t,e){return{restrict:"A",compile:function(n,a){function i(){s=!0,n.css({height:n.height()+"px",overflow:"hidden"}).addClass("active"),o.fadeIn(),$(u).addClass("animated faster fadeOutDown")}function r(){s&&(n.css({height:"auto",overflow:"visible"}).removeClass("active"),$(u).addClass("animated faster fadeInUp"),s=!1,e(function(){$(u).removeClass("animated")},10)),o.fadeOut()}n.removeAttr("smart-router-animation-wrap data-smart-router-animation-wrap wrap-for data-wrap-for"),n.addClass("router-animation-container");var o=$('<div class="router-animation-loader"><i class="fa fa-gear fa-4x fa-spin"></i></div>').css({position:"absolute",top:50,left:10}).hide().appendTo(n),u=a.wrapFor,c=a.smartRouterAnimationWrap.split(/\s/),s=!1,l=t.$on("$stateChangeStart",function(t,e,n,a,r){var o=_.any(c,function(t){return _.has(e.views,t)||_.has(a.views,t)});o&&i()}),d=t.$on("$viewContentLoaded",function(t){r()});n.on("$destroy",function(){l(),d()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartTooltipHtml",function(){return{restrict:"A",link:function(t,e,n){e.tooltip({placement:n.tooltipPlacement||"top",html:!0,title:n.smartTooltipHtml})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("stateBreadcrumbs",function(t,e){return{restrict:"EA",replace:!0,template:'<ol class="breadcrumb"><li translate>Home</li></ol>',link:function(n,a){function i(t){var e="<li translate>Home</li>";angular.forEach(t,function(t){e+="<li translate>"+t+"</li>"}),a.html(e)}function r(t,n){var a=e.get(t);a&&a.data&&a.data.title&&-1===n.indexOf(a.data.title)&&n.unshift(a.data.title);var i=t.replace(/.?\w+$/,"");return i?r(i,n):n}function o(t){var e;e=t.data&&t.data.breadcrumbs?t.data.breadcrumbs:r(t.name,[]),i(e)}o(e.current),t.$on("$stateChangeStart",function(t,e){o(e)})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("toggleMenu",function(){return{restrict:"A",link:function(t,e){var n=$("body"),a=function(){n.hasClass("menu-on-top")?n.hasClass("menu-on-top")&&n.hasClass("mobile-view-activated")&&($("html").toggleClass("hidden-menu-mobile-lock"),n.toggleClass("hidden-menu"),n.removeClass("minified")):($("html").toggleClass("hidden-menu-mobile-lock"),n.toggleClass("hidden-menu"),n.removeClass("minified"))};e.on("click",a),t.$on("requestToggleMenu",function(){a()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("widgetGrid",function(t,e,n,a,i){var r,o,u,c={grid:"article",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone!",deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){console.log("Hello you, this is a custom button...")},customEnd:function(){console.log("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0},s=[],l=!1,d=function(t){angular.forEach(t,function(t){$("#"+t+' [data-toggle="dropdown"]').each(function(){var t=$(this).parent();if(!t.attr("dropdown")){$(this).removeAttr("href"),t.attr("dropdown","");var n=e(t)(t.scope());t.replaceWith(n)}})})},f=function(t,e){l?l||(l=!0,i(function(){l=!1,f(t,e)},200)):_.intersection(e,s).length!==e.length&&(s=_.union(e,s),t.data("jarvisWidgets")&&t.data("jarvisWidgets").destroy(),t.jarvisWidgets(c),d(e))},m=function(t,e){t.data("jarvisWidgets")&&t.data("jarvisWidgets").destroy(),s=_.xor(s,e)};return{restrict:"A",compile:function(e){e.removeAttr("widget-grid data-widget-grid");var n=[];o=t.$on("$viewContentLoaded",function(t,a){i(function(){f(e,n)},100)}),u=t.$on("$stateChangeStart",function(t,a,i,c,s){r(),o(),u(),m(e,n)}),r=t.$on("jarvisWidgetAdded",function(t,a){-1===n.indexOf(a.attr("id"))&&(n.push(a.attr("id")),i(function(){f(e,n)},100))})}}})}();