!function(){"use strict";angular.module("ngBraveLayout",[]).value("version","0.0.1")}(),function(){"use strict";angular.module("ngBraveLayout").constant("layoutConfig",{templates:{directives:{}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("bigBreadcrumbs",function(){return{restrict:"EA",replace:!0,template:'<div><h1 class="page-title txt-color-blueDark"></h1></div>',scope:{items:"=",icon:"@"},link:function(e,t){var n=_.first(e.items),i=e.icon||"home";t.find("h1").append('<i class="fa-fw fa fa-'+i+'"></i>'+n),_.rest(e.items).forEach(function(e){t.find("h1").append("<span>>"+e+"</span>")})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("dismisser",function(){return{restrict:"A",compile:function(e){e.removeAttr("dismisser data-dissmiser");var t='<button class="close">&times;</button>';e.prepend(t),e.on("click",">button.close",function(){e.fadeOut("fast",function(){$(this).remove()})})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("fullScreen",function(){return{restrict:"A",link:function(e,t){var n=$("body"),i=function(e){n.hasClass("full-screen")?(n.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(n.addClass("full-screen"),document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen())};t.on("click",i)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("hrefVoid",function(){return{restrict:"A",link:function(e,t,n){t.attr("href","#"),t.on("click",function(e){e.preventDefault(),e.stopPropagation()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("jarvisWidget",function(e){return{restrict:"A",compile:function(t,n){t.data("widget-color")&&t.addClass("jarviswidget-color-"+t.data("widget-color")),t.find(".widget-body").prepend('<div class="jarviswidget-editbox"><input class="form-control" type="text"></div>'),t.addClass("jarviswidget"),e.$emit("jarvisWidgetAdded",t)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("minifyMenu",function(){return{restrict:"A",link:function(e,t){var n=$("body"),i=function(){n.hasClass("menu-on-top")||(n.toggleClass("minified"),n.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"))};t.on("click",i)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("radioToggle",function(e){return{scope:{model:"=ngModel",value:"@value"},link:function(e,t,n){t.parent().on("click",function(){e.model=e.value,e.$apply()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("reloadState",function(e){return{restrict:"A",compile:function(t,n){t.removeAttr("reload-state data-reload-state"),t.on("click",function(t){e.$state.transitionTo(e.$state.current,e.$stateParams,{reload:!0,inherit:!1,notify:!0}),t.preventDefault()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("resetWidgets",function(){return{restrict:"A",link:function(e,t){t.on("click",function(){$.smartMessageBox({title:'<i class="fa fa-refresh" style="color:green"></i> Clear Local Storage',content:"Would you like to RESET all your saved widgets and clear LocalStorage?1",buttons:"[No][Yes]"},function(e){"Yes"===e&&localStorage&&(localStorage.clear(),location.reload())})})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("searchMobile",function(){return{restrict:"A",compile:function(e,t){e.removeAttr("search-mobile data-search-mobile"),e.on("click",function(e){$("body").addClass("search-mobile"),e.preventDefault()}),$("#cancel-search-js").on("click",function(e){$("body").removeClass("search-mobile"),e.preventDefault()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("toggleShortcut",function(e,t){var n=function(e){function t(){i.animate({height:"hide"},300,"easeOutCirc"),$("body").removeClass("shortcut-on")}function n(){i.animate({height:"show"},200,"easeOutCirc"),$("body").addClass("shortcut-on")}var i=$("#shortcut");e.on("click",function(){i.is(":visible")?t():n()}),i.find("a").click(function(e){e.preventDefault(),window.location=$(this).attr("href"),setTimeout(t,300)}),$(document).mouseup(function(e){i&&!i.is(e.target)&&0===i.has(e.target).length&&t()})},i=function(e,i){t(function(){n(i)})};return{restrict:"EA",link:i}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartDeviceDetect",function(){return{restrict:"A",compile:function(e,t){e.removeAttr("smart-device-detect data-smart-device-detect");var n=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());e.toggleClass("desktop-detected",!n),e.toggleClass("mobile-detected",n)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartFastClick",function(){return{restrict:"A",compile:function(e,t){e.removeAttr("smart-fast-click data-smart-fast-click"),FastClick.attach(e),FastClick.notNeeded()||e.addClass("needsclick")}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartInclude",function(){return{replace:!0,restrict:"A",templateUrl:function(e,t){return t.smartInclude},compile:function(e){e[0].className=e[0].className.replace(/placeholder[^\s]+/g,"")}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartLayout",function(e,t,n,i,o,a){var r=!1,s=i.defer();s.promise.then(function(){r=!0});var u,c,l,d,f=$(window),m=($(document),$("html")),g=$("body");return function v(){u=$("#header"),c=$("#left-panel"),l=$("#ribbon"),d=$(".page-footer"),_.every([u,c,l,d],function(e){return angular.isNumber(e.height())})?s.resolve():t(v,100)}(),function(){a.smartSkin&&(g.removeClass(_.pluck(a.skins,"name").join(" ")),g.addClass(a.smartSkin))}(),{priority:2014,restrict:"A",compile:function(i,o){function a(){var t=g.hasClass("menu-on-top")&&c.is(":visible")?c.height():0,n=!g.hasClass("menu-on-top")&&c.is(":visible")?c.width()+c.offset().left:0,i=$("#content"),o=i.outerWidth(!0)-i.width(),a=i.outerHeight(!0)-i.height();b=f.width()-n-o,w=f.height()-t-a-u.height()-l.height()-d.height(),k=A-b,B=L-w,(Math.abs(k)||Math.abs(B)||S)&&(e.$broadcast("$smartContentResize",{width:b,height:w,deltaX:k,deltaY:B}),A=b,L=w,S=!1)}function v(e){s.promise.then(function(){h(e)})}function p(){E=!1}function h(e){t(function(){E=!0},e)}function y(){g.toggleClass("mobile-view-activated",f.width()<979),f.width()<979&&g.removeClass("minified"),a()}function C(e){e.data&&e.data.htmlId?m.attr("id",e.data.htmlId):m.removeAttr("id")}i.removeAttr("smart-layout data-smart-layout");var b,w,k,B,L=0,A=0,S=!1,E=!1;n(function(){E&&y()},300);var x=_.debounce(function(){v(300)},300);v(10),e.$on("$stateChangeStart",function(e,t,n,i,o){C(t),p()});var F=1;e.$on("$viewContentLoading",function(e,t){F++}),e.$on("$stateChangeSuccess",function(e,t,n,i,o){S=!0}),e.$on("$viewContentLoaded",function(e){F--,0===F&&r&&x()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartPageTitle",function(e,t){return{restrict:"A",compile:function(n,i){n.removeAttr("smart-page-title data-smart-page-title");var o=i.smartPageTitle,a=function(e,n,i,a,r){var s=o;n.data&&n.data.title&&(s=n.data.title+" | "+s),t(function(){$("html head title").text(s)})};e.$on("$stateChangeStart",a)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartPopoverHtml",function(){return{restrict:"A",link:function(e,t,n){var i={};i.content=n.smartPopoverHtml,i.placement=n.popoverPlacement||"top",i.html=!0,i.trigger=n.popoverTrigger||"click",i.title=n.popoverTitle||n.title,t.popover(i)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartRouterAnimationWrap",function(e,t){return{restrict:"A",compile:function(n,i){function o(){c=!0,n.css({height:n.height()+"px",overflow:"hidden"}).addClass("active"),r.fadeIn(),$(s).addClass("animated faster fadeOutDown")}function a(){c&&(n.css({height:"auto",overflow:"visible"}).removeClass("active"),$(s).addClass("animated faster fadeInUp"),c=!1,t(function(){$(s).removeClass("animated")},10)),r.fadeOut()}n.removeAttr("smart-router-animation-wrap data-smart-router-animation-wrap wrap-for data-wrap-for"),n.addClass("router-animation-container");var r=$('<div class="router-animation-loader"><i class="fa fa-gear fa-4x fa-spin"></i></div>').css({position:"absolute",top:50,left:10}).hide().appendTo(n),s=i.wrapFor,u=i.smartRouterAnimationWrap.split(/\s/),c=!1,l=e.$on("$stateChangeStart",function(e,t,n,i,a){var r=_.any(u,function(e){return _.has(t.views,e)||_.has(i.views,e)});r&&o()}),d=e.$on("$viewContentLoaded",function(e){a()});n.on("$destroy",function(){l(),d()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartTooltipHtml",function(){return{restrict:"A",link:function(e,t,n){t.tooltip({placement:n.tooltipPlacement||"top",html:!0,title:n.smartTooltipHtml})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("stateBreadcrumbs",function(e,t){return{restrict:"EA",replace:!0,template:'<ol class="breadcrumb"><li>Home</li></ol>',link:function(n,i){function o(e){var t="<li>Home</li>";angular.forEach(e,function(e){t+="<li>"+e+"</li>"}),i.html(t)}function a(e,n){var i=t.get(e);i&&i.data&&i.data.title&&-1===n.indexOf(i.data.title)&&n.unshift(i.data.title);var o=e.replace(/.?\w+$/,"");return o?a(o,n):n}function r(e){var t;t=e.data&&e.data.breadcrumbs?e.data.breadcrumbs:a(e.name,[]),o(t)}r(t.current),e.$on("$stateChangeStart",function(e,t){r(t)})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("toggleMenu",function(){return{restrict:"A",link:function(e,t){var n=$("body"),i=function(){n.hasClass("menu-on-top")?n.hasClass("menu-on-top")&&n.hasClass("mobile-view-activated")&&($("html").toggleClass("hidden-menu-mobile-lock"),n.toggleClass("hidden-menu"),n.removeClass("minified")):($("html").toggleClass("hidden-menu-mobile-lock"),n.toggleClass("hidden-menu"),n.removeClass("minified"))};t.on("click",i),e.$on("requestToggleMenu",function(){i()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("widgetGrid",function(e,t,n,i,o){var a,r,s,u={grid:"article",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone!",deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){console.log("Hello you, this is a custom button...")},customEnd:function(){console.log("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0},c=[],l=!1,d=function(e){angular.forEach(e,function(e){$("#"+e+' [data-toggle="dropdown"]').each(function(){var e=$(this).parent();if(!e.attr("dropdown")){$(this).removeAttr("href"),e.attr("dropdown","");var n=t(e)(e.scope());e.replaceWith(n)}})})},f=function(e,t){l?l||(l=!0,o(function(){l=!1,f(e,t)},200)):_.intersection(t,c).length!==t.length&&(c=_.union(t,c),e.data("jarvisWidgets")&&e.data("jarvisWidgets").destroy(),e.jarvisWidgets(u),d(t))},m=function(e,t){e.data("jarvisWidgets")&&e.data("jarvisWidgets").destroy(),c=_.xor(c,t)};return{restrict:"A",compile:function(t){t.removeAttr("widget-grid data-widget-grid");var n=[];r=e.$on("$viewContentLoaded",function(e,i){o(function(){f(t,n)},100)}),s=e.$on("$stateChangeStart",function(e,i,o,u,c){a(),r(),s(),m(t,n)}),a=e.$on("jarvisWidgetAdded",function(e,i){-1===n.indexOf(i.attr("id"))&&(n.push(i.attr("id")),o(function(){f(t,n)},100))})}}})}(),function(){"use strict";angular.module("ngBraveLayout").factory("lazyScript",function(e){function t(e){return a.hasOwnProperty(e)&&a[e].promise&&a[e].promise.$$state.pending}function n(e){return a.hasOwnProperty(e)}function i(t){if(!a[t]){a[t]=e.defer();var n=document.createElement("script");n.onload=function(e){console.log("script is lazy loaded:",t),a[t].resolve(t)},n.src=t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}return a[t].promise}function o(o){if(t(o))return a[o].promise;if(n(o))return e.resolve(o);var r=e.defer();return i(o).then(function(){r.resolve(o)}),r.promise}var a={};return{register:function(t){var n=e.defer(),i=[];return angular.isString(t)&&(t=[t]),angular.forEach(t,function(e){i.push(o(e))}),e.all(i).then(function(e){n.resolve(e)}),n.promise}}})}(),function(){"use strict";angular.module("ngBraveLayout").factory("SmartCss",function(e,t){var n=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}(),i={},o={writeRule:function(e){if(o.deleteRuleFor(e),_.has(i,e)){var t=e+"{ "+_.map(i[e],function(e,t){return t+":"+e+";"}).join(" ")+"}";n.insertRule(t,_.size(i)-1)}},add:function(e,n,a,r){_.has(i,e)||(i[e]={}),"undefined"==typeof a||null===a||""===a?delete i[e][n]:i[e][n]=a,0===_.keys(i[e]).length&&delete i[e],r||(r=0),t(function(){o.writeRule(e)},r)},remove:function(e,t,n){o.add(e,t,null,n)},deleteRuleFor:function(e){_(n.rules).forEach(function(t,i){t.selectorText===e&&n.deleteRule(i)})},appViewSize:null};return e.$on("$smartContentResize",function(e,t){o.appViewSize=t}),o})}();