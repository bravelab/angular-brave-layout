!function(){"use strict";angular.module("ngBraveLayout",[]).value("version","0.0.3")}(),function(){"use strict";angular.module("ngBraveLayout").constant("layoutConfig",{templates:{directives:{}}})}(),function(){"use strict";angular.module("ngBraveLayout").factory("lazyScript",function(e){function t(e){return o.hasOwnProperty(e)&&o[e].promise&&o[e].promise.$$state.pending}function n(e){return o.hasOwnProperty(e)}function a(t){if(!o[t]){o[t]=e.defer();var n=document.createElement("script");n.onload=function(e){console.log("script is lazy loaded:",t),o[t].resolve(t)},n.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}return o[t].promise}function i(i){if(t(i))return o[i].promise;if(n(i))return e.resolve(i);var r=e.defer();return a(i).then(function(){r.resolve(i)}),r.promise}var o={};return{register:function(t){var n=e.defer(),a=[];return angular.isString(t)&&(t=[t]),angular.forEach(t,function(e){a.push(i(e))}),e.all(a).then(function(e){n.resolve(e)}),n.promise}}})}(),function(){"use strict";angular.module("ngBraveLayout").factory("SmartCss",function(e,t){var n=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}(),a={},i={writeRule:function(e){if(i.deleteRuleFor(e),_.has(a,e)){var t=e+"{ "+_.map(a[e],function(e,t){return t+":"+e+";"}).join(" ")+"}";n.insertRule(t,_.size(a)-1)}},add:function(e,n,o,r){_.has(a,e)||(a[e]={}),"undefined"==typeof o||null===o||""===o?delete a[e][n]:a[e][n]=o,0===_.keys(a[e]).length&&delete a[e],r||(r=0),t(function(){i.writeRule(e)},r)},remove:function(e,t,n){i.add(e,t,null,n)},deleteRuleFor:function(e){_(n.rules).forEach(function(t,a){t.selectorText===e&&n.deleteRule(a)})},appViewSize:null};return e.$on("$smartContentResize",function(e,t){i.appViewSize=t}),i})}(),function(){"use strict";angular.module("ngBraveLayout").directive("bigBreadcrumbs",function(){return{restrict:"EA",replace:!0,template:'<div><h1 class="page-title txt-color-blueDark"></h1></div>',scope:{items:"=",icon:"@"},link:function(e,t){var n=_.first(e.items),a=e.icon||"home";t.find("h1").append('<i class="fa-fw fa fa-'+a+'"></i>'+n),_.rest(e.items).forEach(function(e){t.find("h1").append("<span>>"+e+"</span>")})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("braveStateBreadcrumbs",function(e,t,n){var a='<a ui-sref="app.home">Home</a>';return{restrict:"EA",replace:!0,template:'<ol class="breadcrumb">'+a+"</ol>",link:function(i,o){function r(e){var t="<li>"+a+"</li>";angular.forEach(e,function(e,n){t+='<li><a ui-sref="'+e[0]+'">'+e[1]+"</a></li>"});var r=angular.element(t),u=n(r),s=u(i);o.html(s)}function u(e,n){var a=t.get(e);a&&a.data&&a.data.title&&-1===n.indexOf(a.data.title)&&n.unshift([e,a.data.title]);var i=e.replace(/.?\w+$/,"");return i?u(i,n):n}function s(e){var t;t=e.data&&e.data.breadcrumbs?e.data.breadcrumbs:u(e.name,[]),r(t)}s(t.current),e.$on("$stateChangeStart",function(e,t){s(t)})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("dismisser",function(){return{restrict:"A",compile:function(e){e.removeAttr("dismisser data-dissmiser");var t='<button class="close">&times;</button>';e.prepend(t),e.on("click",">button.close",function(){e.fadeOut("fast",function(){$(this).remove()})})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("fullScreen",function(){return{restrict:"A",link:function(e,t){var n=$("body"),a=function(e){n.hasClass("full-screen")?(n.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(n.addClass("full-screen"),document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen())};t.on("click",a)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("hrefVoid",function(){return{restrict:"A",link:function(e,t,n){t.attr("href","#"),t.on("click",function(e){e.preventDefault(),e.stopPropagation()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("jarvisWidget",function(e){return{restrict:"A",compile:function(t,n){t.data("widget-color")&&t.addClass("jarviswidget-color-"+t.data("widget-color")),t.find(".widget-body").prepend('<div class="jarviswidget-editbox"><input class="form-control" type="text"></div>'),t.addClass("jarviswidget"),e.$emit("jarvisWidgetAdded",t)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("minifyMenu",function(){return{restrict:"A",link:function(e,t){var n=$("body"),a=function(){n.hasClass("menu-on-top")||(n.toggleClass("minified"),n.removeClass("hidden-menu"),$("html").removeClass("hidden-menu-mobile-lock"))};t.on("click",a)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("radioToggle",function(e){return{scope:{model:"=ngModel",value:"@value"},link:function(e,t,n){t.parent().on("click",function(){e.model=e.value,e.$apply()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("reloadState",function(e){return{restrict:"A",compile:function(t,n){t.removeAttr("reload-state data-reload-state"),t.on("click",function(t){e.$state.transitionTo(e.$state.current,e.$stateParams,{reload:!0,inherit:!1,notify:!0}),t.preventDefault()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("resetWidgets",function(){return{restrict:"A",link:function(e,t){t.on("click",function(){$.smartMessageBox({title:'<i class="fa fa-refresh" style="color:green"></i> Clear Local Storage',content:"Would you like to RESET all your saved widgets and clear LocalStorage?1",buttons:"[No][Yes]"},function(e){"Yes"===e&&localStorage&&(localStorage.clear(),location.reload())})})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("searchMobile",function(){return{restrict:"A",compile:function(e,t){e.removeAttr("search-mobile data-search-mobile"),e.on("click",function(e){$("body").addClass("search-mobile"),e.preventDefault()}),$("#cancel-search-js").on("click",function(e){$("body").removeClass("search-mobile"),e.preventDefault()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("toggleShortcut",function(e,t){var n=function(e){function t(){a.animate({height:"hide"},300,"easeOutCirc"),$("body").removeClass("shortcut-on")}function n(){a.animate({height:"show"},200,"easeOutCirc"),$("body").addClass("shortcut-on")}var a=$("#shortcut");e.on("click",function(){a.is(":visible")?t():n()}),a.find("a").click(function(e){e.preventDefault(),window.location=$(this).attr("href"),setTimeout(t,300)}),$(document).mouseup(function(e){a&&!a.is(e.target)&&0===a.has(e.target).length&&t()})},a=function(e,a){t(function(){n(a)})};return{restrict:"EA",link:a}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartDeviceDetect",function(){return{restrict:"A",compile:function(e,t){e.removeAttr("smart-device-detect data-smart-device-detect");var n=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());e.toggleClass("desktop-detected",!n),e.toggleClass("mobile-detected",n)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartFastClick",function(){return{restrict:"A",compile:function(e,t){e.removeAttr("smart-fast-click data-smart-fast-click"),FastClick.attach(e),FastClick.notNeeded()||e.addClass("needsclick")}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartInclude",function(){return{replace:!0,restrict:"A",templateUrl:function(e,t){return t.smartInclude},compile:function(e){e[0].className=e[0].className.replace(/placeholder[^\s]+/g,"")}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartLayout",function(e,t,n,a,i,o){var r=!1,u=a.defer();u.promise.then(function(){r=!0});var s,c,l,d,f=$(window),m=($(document),$("html")),g=$("body");return function v(){s=$("#header"),c=$("#left-panel"),l=$("#ribbon"),d=$(".page-footer"),_.every([s,c,l,d],function(e){return angular.isNumber(e.height())})?u.resolve():t(v,100)}(),function(){o.smartSkin&&(g.removeClass(_.pluck(o.skins,"name").join(" ")),g.addClass(o.smartSkin))}(),{priority:2014,restrict:"A",compile:function(a,i){function o(){var t=g.hasClass("menu-on-top")&&c.is(":visible")?c.height():0,n=!g.hasClass("menu-on-top")&&c.is(":visible")?c.width()+c.offset().left:0,a=$("#content"),i=a.outerWidth(!0)-a.width(),o=a.outerHeight(!0)-a.height();C=f.width()-n-i,w=f.height()-t-o-s.height()-l.height()-d.height(),k=A-C,B=L-w,(Math.abs(k)||Math.abs(B)||S)&&(e.$broadcast("$smartContentResize",{width:C,height:w,deltaX:k,deltaY:B}),A=C,L=w,S=!1)}function v(e){u.promise.then(function(){h(e)})}function p(){E=!1}function h(e){t(function(){E=!0},e)}function b(){g.toggleClass("mobile-view-activated",f.width()<979),f.width()<979&&g.removeClass("minified"),o()}function y(e){e.data&&e.data.htmlId?m.attr("id",e.data.htmlId):m.removeAttr("id")}a.removeAttr("smart-layout data-smart-layout");var C,w,k,B,L=0,A=0,S=!1,E=!1;n(function(){E&&b()},300);var x=_.debounce(function(){v(300)},300);v(10),e.$on("$stateChangeStart",function(e,t,n,a,i){y(t),p()});var F=1;e.$on("$viewContentLoading",function(e,t){F++}),e.$on("$stateChangeSuccess",function(e,t,n,a,i){S=!0}),e.$on("$viewContentLoaded",function(e){F--,0===F&&r&&x()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartPageTitle",function(e,t){return{restrict:"A",compile:function(n,a){n.removeAttr("smart-page-title data-smart-page-title");var i=a.smartPageTitle,o=function(e,n,a,o,r){var u=i;n.data&&n.data.title&&(u=n.data.title+" | "+u),t(function(){$("html head title").text(u)})};e.$on("$stateChangeStart",o)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartPopoverHtml",function(){return{restrict:"A",link:function(e,t,n){var a={};a.content=n.smartPopoverHtml,a.placement=n.popoverPlacement||"top",a.html=!0,a.trigger=n.popoverTrigger||"click",a.title=n.popoverTitle||n.title,t.popover(a)}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartRouterAnimationWrap",function(e,t){return{restrict:"A",compile:function(n,a){function i(){c=!0,n.css({height:n.height()+"px",overflow:"hidden"}).addClass("active"),r.fadeIn(),$(u).addClass("animated faster fadeOutDown")}function o(){c&&(n.css({height:"auto",overflow:"visible"}).removeClass("active"),$(u).addClass("animated faster fadeInUp"),c=!1,t(function(){$(u).removeClass("animated")},10)),r.fadeOut()}n.removeAttr("smart-router-animation-wrap data-smart-router-animation-wrap wrap-for data-wrap-for"),n.addClass("router-animation-container");var r=$('<div class="router-animation-loader"><i class="fa fa-gear fa-4x fa-spin"></i></div>').css({position:"absolute",top:50,left:10}).hide().appendTo(n),u=a.wrapFor,s=a.smartRouterAnimationWrap.split(/\s/),c=!1,l=e.$on("$stateChangeStart",function(e,t,n,a,o){var r=_.any(s,function(e){return _.has(t.views,e)||_.has(a.views,e)});r&&i()}),d=e.$on("$viewContentLoaded",function(e){o()});n.on("$destroy",function(){l(),d()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("smartTooltipHtml",function(){return{restrict:"A",link:function(e,t,n){t.tooltip({placement:n.tooltipPlacement||"top",html:!0,title:n.smartTooltipHtml})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("stateBreadcrumbs",function(e,t){return{restrict:"EA",replace:!0,template:'<ol class="breadcrumb"><li>Home</li></ol>',link:function(n,a){function i(e){var t="<li>Home</li>";angular.forEach(e,function(e){t+="<li>"+e+"</li>"}),a.html(t)}function o(e,n){var a=t.get(e);a&&a.data&&a.data.title&&-1===n.indexOf(a.data.title)&&n.unshift(a.data.title);var i=e.replace(/.?\w+$/,"");return i?o(i,n):n}function r(e){var t;t=e.data&&e.data.breadcrumbs?e.data.breadcrumbs:o(e.name,[]),i(t)}r(t.current),e.$on("$stateChangeStart",function(e,t){r(t)})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("toggleMenu",function(){return{restrict:"A",link:function(e,t){var n=$("body"),a=function(){n.hasClass("menu-on-top")?n.hasClass("menu-on-top")&&n.hasClass("mobile-view-activated")&&($("html").toggleClass("hidden-menu-mobile-lock"),n.toggleClass("hidden-menu"),n.removeClass("minified")):($("html").toggleClass("hidden-menu-mobile-lock"),n.toggleClass("hidden-menu"),n.removeClass("minified"))};t.on("click",a),e.$on("requestToggleMenu",function(){a()})}}})}(),function(){"use strict";angular.module("ngBraveLayout").directive("widgetGrid",function(e,t,n,a,i){var o,r,u,s={grid:"article",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone!",deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){console.log("Hello you, this is a custom button...")},customEnd:function(){console.log("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0},c=[],l=!1,d=function(e){angular.forEach(e,function(e){$("#"+e+' [data-toggle="dropdown"]').each(function(){var e=$(this).parent();if(!e.attr("dropdown")){$(this).removeAttr("href"),e.attr("dropdown","");var n=t(e)(e.scope());e.replaceWith(n)}})})},f=function(e,t){l?l||(l=!0,i(function(){l=!1,f(e,t)},200)):_.intersection(t,c).length!==t.length&&(c=_.union(t,c),e.data("jarvisWidgets")&&e.data("jarvisWidgets").destroy(),e.jarvisWidgets(s),d(t))},m=function(e,t){e.data("jarvisWidgets")&&e.data("jarvisWidgets").destroy(),c=_.xor(c,t)};return{restrict:"A",compile:function(t){t.removeAttr("widget-grid data-widget-grid");var n=[];r=e.$on("$viewContentLoaded",function(e,a){i(function(){f(t,n)},100)}),u=e.$on("$stateChangeStart",function(e,a,i,s,c){o(),r(),u(),m(t,n)}),o=e.$on("jarvisWidgetAdded",function(e,a){-1===n.indexOf(a.attr("id"))&&(n.push(a.attr("id")),i(function(){f(t,n)},100))})}}})}();